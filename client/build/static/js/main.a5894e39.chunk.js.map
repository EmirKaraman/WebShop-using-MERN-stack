{"version":3,"sources":["actions/errorActions.js","actions/types.js","actions/authActions.js","actions/korpaActions.js","components/auth/RegisterModal.js","components/auth/LoginModal.js","components/auth/Logout.js","components/AppNavbar.js","reducers/proizvodReducer.js","reducers/korpaReducer.js","reducers/errorReducer.js","reducers/authReducer.js","reducers/index.js","store.js","actions/proizvodActions.js","components/UpdateProizvodModal.js","components/ProizvodModal.js","components/WebShop.js","components/Footer.js","App.js","serviceWorker.js","index.js"],"names":["returnErrors","msg","status","type","payload","id","arguments","length","undefined","clearErrors","tokenConfig","getState","token","auth","config","headers","Content-type","deleteAll","dispatch","axios","delete","then","res","catch","err","response","data","setItemsLoading","RegisterModal","state","modal","name","email","password","toggle","_this","props","setState","onChange","e","Object","defineProperty","target","value","onSubmit","preventDefault","_this$state","newUser","register","prevProps","_this$props","this","error","isAuthenticated","react_default","a","createElement","NavLink","onClick","href","Modal","isOpen","ModalHeader","ModalBody","Alert","color","Form","bind","FormGroup","Label","for","Input","placeholder","className","Button","style","marginTop","block","Component","connect","_ref","body","JSON","stringify","post","Content-Type","LoginModal","user","login","_ref2","Logout","_Component","_getPrototypeOf2","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","logoutCallback","logout","deleteAllCallback","DoLogout","window","location","reload","inherits","createClass","key","react","AppNavbar","loadUser","_this$props$auth","authLinks","NavItem","auth_Logout","guestLinks","auth_RegisterModal","auth_LoginModal","Navbar","dark","expand","Container","NavbarBrand","NavbarToggler","Collapse","navbar","Nav","get","initialState","proizvods","loading","searchProizvods","korpaProizvods","ukupnaCijena","localStorage","getItem","isLoading","combineReducers","proizvod","action","objectSpread","toConsumableArray","filter","_id","korpa","korpaProizvod","setItem","removeItem","middleware","thunk","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","UpdateProizvodModal","ime","cijena","kolicina","doUpdateKorpa","forEach","element","updateIme","updatedKorpaProizvod","updateKorpaProizvod","reg","RegExp","test","updatedProizvod","updateProizvod","updateId","size","marginLeft","ProizvodModal","newProizvod","addProizvod","WebShop","search","getProizvodsDo","getProizvods","getKorpaProizvodsDo","getKorpaProizvods","deleteAllDo","searchReset","deleteProizvodDo","deleteProizvod","deleteKorpaProizvodDo","deleteKorpaProizvod","izracunajUkupnuCijenuDo","izracunajUkupnuCijenu","addKorpaProizvodDo","addKorpaProizvod","onProizvodDeleteClick","onKorpaProizvodDeleteClick","onKorpaAddClick","alert","onDeleteAllClick","handleSubmit","searchText","_this2","_this$props$proizvod","_this$props$korpa","_this$props$auth2","marginBottom","ListGroup","TransitionGroup","map","CSSTransition","timeout","classNames","ListGroupItem","components_UpdateProizvodModal","updateCijena","updateKolicina","components_ProizvodModal","_ref3","Footer","App","es","components_AppNavbar","components_WebShop","Footer_Footer","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a5894e39.chunk.js","sourcesContent":["import { GET_ERRORS, CLEAR_ERRORS } from './types';\r\n\r\nexport const returnErrors = (msg, status, id = null) => {\r\n\treturn {\r\n\t\ttype: GET_ERRORS,\r\n\t\tpayload: { msg, status, id }\r\n\t};\r\n};\r\n\r\nexport const clearErrors = () => {\r\n\treturn {\r\n\t\ttype: CLEAR_ERRORS\r\n\t};\r\n};\r\n","export const GET_PROIZVODS = 'GET_PROIZVODS';\r\nexport const ADD_PROIZVOD = 'ADD_PROIZVOD';\r\nexport const ITEMS_LOADING = 'ITEMS_LOADING';\r\nexport const DELETE_PROIZVOD = 'DELETE_PROIZVOD';\r\nexport const UPDATE_PROIZVOD = 'UPDATE_PROIZVOD';\r\nexport const GET_KORPAPROIZVODS = 'GET_KORPAPROIZVODS';\r\nexport const ADD_KORPAPROIZVOD = 'ADD_KORPAPROIZVOD';\r\nexport const DELETE_KORPAPROIZVOD = 'DELETE_KORPAPROIZVOD';\r\nexport const DELETE_ALL = 'DELETE_ALL';\r\nexport const UPDATE_KORPAPROIZVOD = 'UPDATE_KORPAPROIZVOD';\r\nexport const IZRACUNAJ_CIJENU = 'IZRACUNAJ_CIJENU';\r\nexport const SEARCH = 'SEARCH';\r\nexport const USER_LOADING = 'USER_LOADING';\r\nexport const USER_LOADED = 'USER_LOADED';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOGOUT_SUCCESS = 'LOGOUT_SUCCESS';\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\r\nexport const GET_ERRORS = 'GET_ERRORS';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\n","import axios from 'axios';\r\nimport { returnErrors } from './errorActions';\r\n\r\nimport {\r\n\tUSER_LOADED,\r\n\tUSER_LOADING,\r\n\tAUTH_ERROR,\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tLOGOUT_SUCCESS,\r\n\tREGISTER_SUCCESS,\r\n\tREGISTER_FAIL\r\n} from './types';\r\n\r\nexport const register = ({ name, email, password }) => (dispatch) => {\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t}\r\n\t};\r\n\r\n\tconst body = JSON.stringify({ name, email, password });\r\n\r\n\taxios\r\n\t\t.post('/api/users', body, config)\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: REGISTER_SUCCESS,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => {\r\n\t\t\tdispatch(returnErrors(err.response.data, err.response.status, 'REGISTER_FAIL'));\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: REGISTER_FAIL\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\n//od podataka sa frontenda uzima sve i salje kao json objekat backendu zajedno sa headerom tipa application json\r\n//kao povatnu info za reducera salje pristigli token i usera, a ako nije uspjela registracija dispatcuje se error i akcija register fail.\r\n\r\nexport const login = ({ email, password }) => (dispatch) => {\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t}\r\n\t};\r\n\r\n\tconst body = JSON.stringify({ email, password });\r\n\r\n\taxios\r\n\t\t.post('/api/auth', body, config)\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => {\r\n\t\t\tdispatch(returnErrors(err.response.data, err.response.status, 'LOGIN_FAIL'));\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOGIN_FAIL\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\n//Radi sve isto kao onaj register action ali neke promjene oko imena akcija i td\r\n\r\nexport const logout = () => {\r\n\treturn {\r\n\t\ttype: LOGOUT_SUCCESS\r\n\t};\r\n};\r\n\r\n//SAV PROCES se vrsi na frontendu oko logout-a, brise se token iz localstorage i sve iz state za auth se stavi na null\r\n\r\nexport const tokenConfig = (getState) => {\r\n\tconst token = getState().auth.token;\r\n\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t'Content-type': 'application/json'\r\n\t\t}\r\n\t};\r\n\r\n\tif (token) {\r\n\t\tconfig.headers['x-auth-token'] = token;\r\n\t}\r\n\r\n\treturn config;\r\n};\r\n\r\n//Ova metoda prima getState, sto je jedna od redux prednosti, pomocu ovoga imas pristup citavom stablu redux state-a, tako da ti je token preuzet iz state-a preko getState().auth.token\r\n//Posto ce svaki poziv ka backendu zahtijevati headere, ti si unaprijed naveo da je header application json ukoliko ne postoji token,\r\n//a ako postoji token, odnosno logovan je user onda ce u backend biti poslat i header sa tokenom, pa onda user ima pristup svim backend metodama.\r\n//a mogu biti poslana i oba headera ako trebaju jer se token header dodaje na vec postojeci\r\n\r\nexport const loadUser = () => (dispatch, getState) => {\r\n\tdispatch({ type: USER_LOADING });\r\n\r\n\taxios\r\n\t\t.get('/api/auth/user', tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_LOADED,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => {\r\n\t\t\tdispatch(returnErrors(err.response.data, err.response.status));\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: AUTH_ERROR\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\n//ova akcija prima x-auth-token header zato si pozivao ovu tokenConfig metodu a vraca podatke logovanog usera na frontend.\r\n","import axios from 'axios';\r\nimport {\r\n\tGET_KORPAPROIZVODS,\r\n\tITEMS_LOADING,\r\n\tADD_KORPAPROIZVOD,\r\n\tDELETE_KORPAPROIZVOD,\r\n\tDELETE_ALL,\r\n\tUPDATE_KORPAPROIZVOD,\r\n\tIZRACUNAJ_CIJENU\r\n} from './types';\r\nimport { tokenConfig } from './authActions';\r\nimport { returnErrors } from './errorActions';\r\n\r\nexport const getKorpaProizvods = () => (dispatch, getState) => {\r\n\tdispatch(setItemsLoading());\r\n\taxios\r\n\t\t.get('/api/korpas', tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GET_KORPAPROIZVODS,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => dispatch(returnErrors(err.response.data, err.response.status)));\r\n};\r\n\r\nexport const addKorpaProizvod = (korpaProizvod) => (dispatch, getState) => {\r\n\taxios\r\n\t\t.post('/api/korpas', korpaProizvod, tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_KORPAPROIZVOD,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => dispatch(returnErrors(err.response.data, err.response.status)));\r\n};\r\n\r\nexport const updateKorpaProizvod = (korpaProizvod, id) => (dispatch, getState) => {\r\n\taxios\r\n\t\t.post(`/api/korpas/update/${id}`, korpaProizvod, tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_KORPAPROIZVOD,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => dispatch(returnErrors(err.response.data, err.response.status)));\r\n};\r\n\r\nexport const deleteKorpaProizvod = (id) => (dispatch, getState) => {\r\n\taxios\r\n\t\t.delete(`/api/korpas/delete/${id}`, tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DELETE_KORPAPROIZVOD,\r\n\t\t\t\tpayload: id\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => dispatch(returnErrors(err.response.data, err.response.status)));\r\n};\r\n\r\nexport const deleteAll = () => (dispatch, getState) => {\r\n\taxios\r\n\t\t.delete(`/api/korpas/delete`, tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DELETE_ALL\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => dispatch(returnErrors(err.response.data, err.response.status)));\r\n};\r\n\r\nexport const izracunajUkupnuCijenu = () => (dispatch, getState) => {\r\n\taxios\r\n\t\t.get('/api/korpas/ukupnaCijena', tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: IZRACUNAJ_CIJENU,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => dispatch(returnErrors(err.response.data, err.response.status)));\r\n};\r\n\r\nexport const setItemsLoading = () => {\r\n\treturn {\r\n\t\ttype: ITEMS_LOADING\r\n\t};\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input, NavLink, Alert } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { register } from '../../actions/authActions';\r\nimport { clearErrors } from '../../actions/errorActions';\r\nimport { deleteAll } from '../../actions/korpaActions';\r\n\r\nclass RegisterModal extends Component {\r\n\tstate = {\r\n\t\tmodal: false,\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tmsg: null\r\n\t};\r\n\r\n\tstatic propTypes = {\r\n\t\tisAuthenticated: PropTypes.bool,\r\n\t\terror: PropTypes.object.isRequired,\r\n\t\tregister: PropTypes.func.isRequired,\r\n\t\tclearErrors: PropTypes.func.isRequired,\r\n\t\tdeleteAll: PropTypes.func.isRequired\r\n\t};\r\n\r\n\t//da bi prikazao error unutar modala, taj error moda da bude novi error koji se pojaivo, ne neki stariji da se prikaze, pa vrsis tu provjeru pomocu prevProps\r\n\t//posto ce se ova metoda pokrenuti svaki put kad se otvori register modal, ti zelis ukoliko je user logovan tj ako je kliknuo submit i backend vratio uspjeno token\r\n\t//zelis da zatvoris modal, posto nije tipicni toggle slucaj, jer zelis da prikazes errore unutar samo modala kad se pojave, a user ga moze rucno zatvoriti, ili\r\n\t//unijeti potrebne podatke uspjesno tako da je isAuthenticated true i nema potrebe a je modal vise otvoren.\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst { error, isAuthenticated } = this.props;\r\n\t\tif (error !== prevProps.error) {\r\n\t\t\tif (error.id === 'REGISTER_FAIL') {\r\n\t\t\t\tthis.setState({ msg: error.msg.msg });\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ msg: null });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.state.modal) {\r\n\t\t\tif (isAuthenticated) {\r\n\t\t\t\tthis.toggle();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.deleteAll();\r\n\t}\r\n\r\n\ttoggle = () => {\r\n\t\tthis.props.clearErrors(); //ocistis errore svaki put kad se zatvori ili otvori modal, jer su errori vezani za uspjesan register.\r\n\t\tthis.setState({\r\n\t\t\tmodal: !this.state.modal\r\n\t\t});\r\n\t};\r\n\r\n\tonChange = (e) => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tonSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst { name, email, password } = this.state;\r\n\r\n\t\tconst newUser = {\r\n\t\t\tname,\r\n\t\t\temail,\r\n\t\t\tpassword\r\n\t\t};\r\n\r\n\t\tthis.props.register(newUser);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<NavLink onClick={this.toggle} href=\"#\">\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t<Modal isOpen={this.state.modal} toggle={this.toggle}>\r\n\t\t\t\t\t<ModalHeader toggle={this.toggle}>Register</ModalHeader>\r\n\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t{this.state.msg ? <Alert color=\"danger\">{this.state.msg}</Alert> : null}\r\n\t\t\t\t\t\t<Form onSubmit={this.onSubmit.bind(this)}>\r\n\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\t<Label for=\"name\">Name</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<Label for=\"email\">Email</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<Label for=\"password\">Password</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Button color=\"dark\" style={{ marginTop: '2rem' }} block>\r\n\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</ModalBody>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n\terror: state.error\r\n});\r\n\r\nexport default connect(mapStateToProps, { register, clearErrors, deleteAll })(RegisterModal);\r\n","import React, { Component } from 'react';\r\nimport { Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input, NavLink, Alert } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { login } from '../../actions/authActions';\r\nimport { clearErrors } from '../../actions/errorActions';\r\nimport { deleteAll } from '../../actions/korpaActions';\r\n\r\nclass LoginModal extends Component {\r\n\tstate = {\r\n\t\tmodal: false,\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tmsg: null //sluzi da mozes prikazati trenutni message za error koji se trenuntno pojavio prilikom registracije\r\n\t};\r\n\r\n\tstatic propTypes = {\r\n\t\tisAuthenticated: PropTypes.bool,\r\n\t\terror: PropTypes.object.isRequired,\r\n\t\tlogin: PropTypes.func.isRequired,\r\n\t\tclearErrors: PropTypes.func.isRequired,\r\n\t\tdeleteAll: PropTypes.func.isRequired\r\n\t};\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst { error, isAuthenticated } = this.props;\r\n\t\tif (error !== prevProps.error) {\r\n\t\t\t// Check for register error\r\n\t\t\tif (error.id === 'LOGIN_FAIL') {\r\n\t\t\t\tthis.setState({ msg: error.msg.msg });\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ msg: null });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// If authenticated, close modal\r\n\t\tif (this.state.modal) {\r\n\t\t\tif (isAuthenticated) {\r\n\t\t\t\tthis.toggle();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.deleteAll();\r\n\t}\r\n\r\n\ttoggle = () => {\r\n\t\t// Clear errors\r\n\t\tthis.props.clearErrors();\r\n\t\tthis.setState({\r\n\t\t\tmodal: !this.state.modal\r\n\t\t});\r\n\t};\r\n\r\n\tonChange = (e) => {\r\n\t\tthis.setState({ [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tonSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst { email, password } = this.state;\r\n\r\n\t\tconst user = {\r\n\t\t\temail,\r\n\t\t\tpassword\r\n\t\t};\r\n\r\n\t\t// Attempt to login\r\n\t\tthis.props.login(user);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<NavLink onClick={this.toggle} href=\"#\">\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t<Modal isOpen={this.state.modal} toggle={this.toggle}>\r\n\t\t\t\t\t<ModalHeader toggle={this.toggle}>Login</ModalHeader>\r\n\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t{this.state.msg ? <Alert color=\"danger\">{this.state.msg}</Alert> : null}\r\n\t\t\t\t\t\t<Form onSubmit={this.onSubmit}>\r\n\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\t<Label for=\"email\">Email</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<Label for=\"password\">Password</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Button color=\"dark\" style={{ marginTop: '2rem' }} block>\r\n\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</ModalBody>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuthenticated: state.auth.isAuthenticated,\r\n\terror: state.error\r\n});\r\n\r\nexport default connect(mapStateToProps, { login, clearErrors, deleteAll })(LoginModal);\r\n","import React, { Component, Fragment } from 'react';\r\nimport { NavLink } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../actions/authActions';\r\nimport { deleteAll } from '../../actions/korpaActions';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nexport class Logout extends Component {\r\n\tstatic propTypes = {\r\n\t\tlogout: PropTypes.func.isRequired,\r\n\t\tauth: PropTypes.object.isRequired,\r\n\t\tdeleteAll: PropTypes.func.isRequired\r\n\t};\r\n\r\n\tlogoutCallback = () => {\r\n\t\tthis.props.logout();\r\n\t};\r\n\r\n\tdeleteAllCallback = () => {\r\n\t\tthis.props.deleteAll();\r\n\t};\r\n\r\n\tDoLogout = () => {\r\n\t\tthis.logoutCallback();\r\n\t\tthis.deleteAllCallback();\r\n\t\twindow.location.reload();\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<NavLink onClick={this.DoLogout} href=\"#\">\r\n\t\t\t\t\tLogout\r\n\t\t\t\t</NavLink>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout, deleteAll })(Logout);\r\n\r\n//ne treba ti mapstatetoprops kad imas samo jednu akciju\r\n//sve sto ti treba za ovu komponentu je jedan link koji kad neko klikne treba da se\r\n//aktivira akcija za logout i to je sve, ovo ces ubaciti u appnavbar poslije ali kad\r\n//je user logovan da se samo tad vidi ovaj link.\r\n","import React, { Component, Fragment } from 'react';\r\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, Container } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport RegisterModal from './auth/RegisterModal';\r\nimport LoginModal from './auth/LoginModal';\r\nimport Logout from './auth/Logout';\r\nimport { loadUser } from '../actions/authActions';\r\n\r\nclass AppNavbar extends Component {\r\n\tstate = {\r\n\t\tisOpen: false\r\n\t};\r\n\r\n\tstatic propTypes = {\r\n\t\tauth: PropTypes.object.isRequired,\r\n\t\tloadUser: PropTypes.func.isRequired\r\n\t};\r\n\r\n\ttoggle = () => {\r\n\t\tthis.setState({\r\n\t\t\tisOpen: !this.state.isOpen\r\n\t\t});\r\n\t};\r\n\t//mijenja isopen is state u suprotno, to je sve sto radi iz true u false i obrnuto.\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { token } = this.props.auth;\r\n\t\tif (token !== null) this.props.loadUser();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { isAuthenticated, user, token } = this.props.auth;\r\n\t\t//destructor, da preuzmes isAuthenticated i user is this.props.auth.user i -||-.isAuthenticated\r\n\r\n\t\tconst authLinks = (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<NavItem>\r\n\t\t\t\t\t<span className=\"navbar-text mr-3\">\r\n\t\t\t\t\t\t<strong>{user ? `Welcome ${user.name}` : ''}</strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</NavItem>\r\n\t\t\t\t<NavItem>\r\n\t\t\t\t\t<Logout />\r\n\t\t\t\t</NavItem>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t\t//imas iznad to za welcome message, ako postoji user - ako je logovan prikazat ces welcome ime usera u suprotnom neces nista prikazati.\r\n\r\n\t\tconst guestLinks = (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<NavItem>\r\n\t\t\t\t\t<RegisterModal />\r\n\t\t\t\t</NavItem>\r\n\t\t\t\t<NavItem>\r\n\t\t\t\t\t<LoginModal />\r\n\t\t\t\t</NavItem>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar color=\"dark\" dark expand=\"sm\" className=\"mb-5\">\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<NavbarBrand href=\"/\">ShoppingList</NavbarBrand>\r\n\t\t\t\t\t\t<NavbarToggler onClick={this.toggle} />\r\n\t\t\t\t\t\t<Collapse isOpen={this.state.isOpen} navbar>\r\n\t\t\t\t\t\t\t<Nav className=\"ml-auto\" navbar>\r\n\t\t\t\t\t\t\t\t{isAuthenticated || token !== null ? authLinks : guestLinks}\r\n\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Navbar>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth\r\n});\r\n//treba ti auth state da bi mogao da provjeravas je li user logovan i td.\r\n\r\nexport default connect(mapStateToProps, { loadUser })(AppNavbar);\r\n","import { GET_PROIZVODS, ITEMS_LOADING, ADD_PROIZVOD, UPDATE_PROIZVOD, DELETE_PROIZVOD, SEARCH } from '../actions/types';\r\n\r\nconst initialState = {\r\n\tproizvods: [],\r\n\tloading: false,\r\n\tsearchProizvods: []\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase GET_PROIZVODS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproizvods: action.payload,\r\n\t\t\t\tloading: false\r\n\t\t\t};\r\n\t\tcase ADD_PROIZVOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproizvods: [ action.payload, ...state.proizvods ]\r\n\t\t\t};\r\n\t\tcase UPDATE_PROIZVOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproizvods: action.payload\r\n\t\t\t};\r\n\t\tcase DELETE_PROIZVOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproizvods: state.proizvods.filter((proizvod) => proizvod._id !== action.payload)\r\n\t\t\t};\r\n\t\tcase SEARCH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsearchProizvods: action.payload\r\n\t\t\t};\r\n\t\tcase ITEMS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import {\r\n\tGET_KORPAPROIZVODS,\r\n\tITEMS_LOADING,\r\n\tADD_KORPAPROIZVOD,\r\n\tDELETE_KORPAPROIZVOD,\r\n\tDELETE_ALL,\r\n\tUPDATE_KORPAPROIZVOD,\r\n\tIZRACUNAJ_CIJENU\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tkorpaProizvods: [],\r\n\tloading: false,\r\n\tukupnaCijena: 0\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase GET_KORPAPROIZVODS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tkorpaProizvods: action.payload,\r\n\t\t\t\tloading: false\r\n\t\t\t};\r\n\t\tcase ADD_KORPAPROIZVOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tkorpaProizvods: [ action.payload, ...state.korpaProizvods ]\r\n\t\t\t};\r\n\t\tcase UPDATE_KORPAPROIZVOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tkorpaProizvods: action.payload\r\n\t\t\t};\r\n\t\tcase DELETE_KORPAPROIZVOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tkorpaProizvods: state.korpaProizvods.filter((korpaProizvod) => korpaProizvod._id !== action.payload)\r\n\t\t\t};\r\n\t\tcase DELETE_ALL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tkorpaProizvods: []\r\n\t\t\t};\r\n\t\tcase IZRACUNAJ_CIJENU:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tukupnaCijena: action.payload\r\n\t\t\t};\r\n\t\tcase ITEMS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { GET_ERRORS, CLEAR_ERRORS } from '../actions/types';\r\n\r\nconst initialState = {\r\n\tmsg: {},\r\n\tstatus: null,\r\n\tid: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase GET_ERRORS:\r\n\t\t\treturn {\r\n\t\t\t\tmsg: action.payload.msg,\r\n\t\t\t\tstatus: action.payload.status,\r\n\t\t\t\tid: action.payload.id\r\n\t\t\t};\r\n\t\tcase CLEAR_ERRORS:\r\n\t\t\treturn {\r\n\t\t\t\tmsg: {},\r\n\t\t\t\tstatus: null,\r\n\t\t\t\tid: null\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import {\r\n\tUSER_LOADED,\r\n\tUSER_LOADING,\r\n\tAUTH_ERROR,\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tLOGOUT_SUCCESS,\r\n\tREGISTER_SUCCESS,\r\n\tREGISTER_FAIL\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\ttoken: localStorage.getItem('token'),\r\n\tisAuthenticated: null,\r\n\tisLoading: false,\r\n\tuser: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true\r\n\t\t\t};\r\n\t\tcase USER_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tuser: action.payload\r\n\t\t\t};\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\tcase REGISTER_SUCCESS:\r\n\t\t\tlocalStorage.setItem('token', action.payload.token);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tisLoading: false\r\n\t\t\t};\r\n\t\tcase AUTH_ERROR:\r\n\t\tcase LOGIN_FAIL:\r\n\t\tcase LOGOUT_SUCCESS:\r\n\t\tcase REGISTER_FAIL:\r\n\t\t\tlocalStorage.removeItem('token');\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tisLoading: false\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport proizvodReducer from './proizvodReducer';\r\nimport korpaReducer from './korpaReducer';\r\nimport errorReducer from './errorReducer';\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n\tproizvod: proizvodReducer,\r\n\tkorpa: korpaReducer,\r\n\terror: errorReducer,\r\n\tauth: authReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\nconst middleware = [ thunk ];\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, initialState, composeEnhancers(applyMiddleware(...middleware)));\r\n\r\nexport default store;\r\n","import axios from 'axios';\r\nimport { GET_PROIZVODS, ITEMS_LOADING, ADD_PROIZVOD, DELETE_PROIZVOD, UPDATE_PROIZVOD, SEARCH } from './types';\r\nimport { tokenConfig } from './authActions';\r\nimport { returnErrors } from './errorActions';\r\n\r\nexport const getProizvods = () => (dispatch) => {\r\n\tdispatch(setItemsLoading());\r\n\taxios.get('/api/proizvods').then((res) =>\r\n\t\tdispatch({\r\n\t\t\ttype: GET_PROIZVODS,\r\n\t\t\tpayload: res.data\r\n\t\t})\r\n\t);\r\n};\r\n\r\nexport const addProizvod = (proizvod) => (dispatch, getState) => {\r\n\taxios\r\n\t\t.post('/api/proizvods', proizvod, tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_PROIZVOD,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => dispatch(returnErrors(err.response.data, err.response.status)));\r\n};\r\n\r\nexport const updateProizvod = (proizvod, id) => (dispatch, getState) => {\r\n\taxios\r\n\t\t.post(`/api/proizvods/update/${id}`, proizvod, tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_PROIZVOD,\r\n\t\t\t\tpayload: res.data\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => dispatch(returnErrors(err.response.data, err.response.status)));\r\n};\r\n\r\nexport const deleteProizvod = (id) => (dispatch, getState) => {\r\n\taxios\r\n\t\t.delete(`/api/proizvods/delete/${id}`, tokenConfig(getState))\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DELETE_PROIZVOD,\r\n\t\t\t\tpayload: id\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => dispatch(returnErrors(err.response.data, err.response.status)));\r\n};\r\n\r\nexport const setItemsLoading = () => {\r\n\treturn {\r\n\t\ttype: ITEMS_LOADING\r\n\t};\r\n};\r\n\r\nexport const searchProizvods = (searchText) => (dispatch) => {\r\n\taxios.post('/api/proizvods/search', searchText).then((res) =>\r\n\t\tdispatch({\r\n\t\t\ttype: SEARCH,\r\n\t\t\tpayload: res.data\r\n\t\t})\r\n\t);\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input, Alert } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { updateProizvod } from '../actions/proizvodActions';\r\nimport { updateKorpaProizvod } from '../actions/korpaActions';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass UpdateProizvodModal extends Component {\r\n\tstate = {\r\n\t\tmodal: false,\r\n\t\time: '',\r\n\t\tcijena: 0,\r\n\t\tkolicina: 0,\r\n\t\tmsg: null\r\n\t};\r\n\r\n\tstatic propTypes = {\r\n\t\tproizvod: PropTypes.object.isRequired,\r\n\t\tupdateProizvod: PropTypes.func.isRequired,\r\n\t\tupdateKorpaProizvod: PropTypes.func.isRequired,\r\n\t\tkorpa: PropTypes.object.isRequired\r\n\t};\r\n\r\n\ttoggle = () => {\r\n\t\tthis.setState({\r\n\t\t\tmodal: !this.state.modal\r\n\t\t});\r\n\t};\r\n\r\n\tonChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tdoUpdateKorpa = () => {\r\n\t\tconst { korpaProizvods } = this.props.korpa;\r\n\r\n\t\tkorpaProizvods.forEach((element) => {\r\n\t\t\tif (element.ime === this.props.updateIme) {\r\n\t\t\t\tconst updatedKorpaProizvod = {\r\n\t\t\t\t\time: this.state.ime,\r\n\t\t\t\t\tcijena: this.state.cijena\r\n\t\t\t\t};\r\n\t\t\t\tthis.props.updateKorpaProizvod(updatedKorpaProizvod, element._id);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tonSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tvar reg = new RegExp('^[0-9]+$');\r\n\r\n\t\tif (\r\n\t\t\tthis.state.ime !== '' &&\r\n\t\t\tthis.state.cijena !== '' &&\r\n\t\t\tthis.state.cijena !== 0 &&\r\n\t\t\tthis.state.kolicina !== '' &&\r\n\t\t\tthis.state.kolicina !== 0 &&\r\n\t\t\treg.test(this.state.cijena) &&\r\n\t\t\treg.test(this.state.kolicina)\r\n\t\t) {\r\n\t\t\tconst updatedProizvod = {\r\n\t\t\t\time: this.state.ime,\r\n\t\t\t\tcijena: this.state.cijena,\r\n\t\t\t\tkolicina: this.state.kolicina\r\n\t\t\t};\r\n\r\n\t\t\tthis.props.updateProizvod(updatedProizvod, this.props.updateId);\r\n\r\n\t\t\tthis.doUpdateKorpa();\r\n\r\n\t\t\t//Reset all\r\n\t\t\tthis.setState({\r\n\t\t\t\time: '',\r\n\t\t\t\tcijena: 0,\r\n\t\t\t\tkolicina: 0\r\n\t\t\t});\r\n\r\n\t\t\tthis.toggle();\r\n\t\t\twindow.location.reload();\r\n\t\t} else {\r\n\t\t\tthis.setState({ msg: 'You have to write in all the fields' });\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tcolor=\"dark\"\r\n\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\tstyle={{ marginLeft: '0.5rem' }}\r\n\t\t\t\t\tonClick={this.toggle}\r\n\t\t\t\t\tclassName=\"updateProizvodModal\"\r\n\t\t\t\t>\r\n\t\t\t\t\tEdit\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Modal isOpen={this.state.modal} toggle={this.toggle}>\r\n\t\t\t\t\t<ModalHeader toggle={this.toggle}>Popunite polja sa zeljenim promjenama</ModalHeader>\r\n\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t{this.state.msg ? <Alert color=\"danger\">{this.state.msg}</Alert> : null}\r\n\t\t\t\t\t\t<Form onSubmit={this.onSubmit}>\r\n\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\t<Label for=\"ime\">Ime:</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"ime\"\r\n\t\t\t\t\t\t\t\t\tid=\"ime\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Naziv proizvoda\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Label for=\"cijena\" style={{ marginTop: '0.7rem' }}>\r\n\t\t\t\t\t\t\t\t\tCijena:\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"cijena\"\r\n\t\t\t\t\t\t\t\t\tid=\"cijena\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Cijena proizvoda u KM\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Label for=\"kolicina\" style={{ marginTop: '0.7rem' }}>\r\n\t\t\t\t\t\t\t\t\tKolicina:\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"kolicina\"\r\n\t\t\t\t\t\t\t\t\tid=\"kolicina\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Ostalo na stanju\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Button color=\"dark\" style={{ marginTop: '2rem' }} block>\r\n\t\t\t\t\t\t\t\t\tIzvrsi zeljenu promjenu\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</ModalBody>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tproizvod: state.proizvod,\r\n\tkorpa: state.korpa\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateProizvod, updateKorpaProizvod })(UpdateProizvodModal);\r\n","import React, { Component } from 'react';\r\nimport { Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { addProizvod } from '../actions/proizvodActions';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ProizvodModal extends Component {\r\n\tstate = {\r\n\t\tmodal: false,\r\n\t\time: '',\r\n\t\tcijena: 0,\r\n\t\tkolicina: 0\r\n\t};\r\n\r\n\tstatic propTypes = {\r\n\t\tproizvod: PropTypes.object.isRequired\r\n\t};\r\n\r\n\ttoggle = () => {\r\n\t\tthis.setState({\r\n\t\t\tmodal: !this.state.modal\r\n\t\t});\r\n\t};\r\n\r\n\tonChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tonSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tvar reg = new RegExp('^[0-9]+$');\r\n\r\n\t\tif (\r\n\t\t\tthis.state.ime !== '' &&\r\n\t\t\tthis.state.cijena !== 0 &&\r\n\t\t\tthis.state.kolicina !== 0 &&\r\n\t\t\treg.test(this.state.cijena) &&\r\n\t\t\treg.test(this.state.kolicina)\r\n\t\t) {\r\n\t\t\tconst newProizvod = {\r\n\t\t\t\time: this.state.ime,\r\n\t\t\t\tcijena: this.state.cijena,\r\n\t\t\t\tkolicina: this.state.kolicina\r\n\t\t\t};\r\n\r\n\t\t\tthis.props.addProizvod(newProizvod);\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\time: '',\r\n\t\t\tcijena: 0,\r\n\t\t\tkolicina: 0\r\n\t\t});\r\n\r\n\t\tthis.toggle();\r\n\t\twindow.location.reload();\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Button color=\"dark\" onClick={this.toggle} className=\"ProizvodModal\">\r\n\t\t\t\t\tDodaj proizvod\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Modal isOpen={this.state.modal} toggle={this.toggle}>\r\n\t\t\t\t\t<ModalHeader toggle={this.toggle}>Dodaj u listu proizvoda</ModalHeader>\r\n\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t<Form onSubmit={this.onSubmit}>\r\n\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\t<Label for=\"ime\">Ime:</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"ime\"\r\n\t\t\t\t\t\t\t\t\tid=\"ime\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Naziv proizvoda\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Label for=\"cijena\" style={{ marginTop: '0.7rem' }}>\r\n\t\t\t\t\t\t\t\t\tCijena:\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"cijena\"\r\n\t\t\t\t\t\t\t\t\tid=\"cijena\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Cijena proizvoda u KM\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Label for=\"kolicina\" style={{ marginTop: '0.7rem' }}>\r\n\t\t\t\t\t\t\t\t\tKolicina:\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"kolicina\"\r\n\t\t\t\t\t\t\t\t\tid=\"kolicina\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Ostalo na stanju\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Button color=\"dark\" style={{ marginTop: '2rem' }} block>\r\n\t\t\t\t\t\t\t\t\tDodaj proizvod\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</ModalBody>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tproizvod: state.proizvod\r\n});\r\n\r\nexport default connect(mapStateToProps, { addProizvod })(ProizvodModal);\r\n","import React, { Component } from 'react';\r\nimport { ListGroup, ListGroupItem, Button, Alert, Label, Input } from 'reactstrap';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { connect } from 'react-redux';\r\nimport { getProizvods, deleteProizvod, searchProizvods } from '../actions/proizvodActions';\r\nimport {\r\n\tgetKorpaProizvods,\r\n\tdeleteKorpaProizvod,\r\n\tdeleteAll,\r\n\taddKorpaProizvod,\r\n\tizracunajUkupnuCijenu\r\n} from '../actions/korpaActions';\r\nimport PropTypes from 'prop-types';\r\nimport UpdateProizvodModal from './UpdateProizvodModal';\r\nimport ProizvodModal from './ProizvodModal';\r\n\r\nclass WebShop extends Component {\r\n\tstate = {\r\n\t\tsearch: ''\r\n\t};\r\n\tstatic propTypes = {\r\n\t\tgetProizvods: PropTypes.func.isRequired,\r\n\t\tdeleteProizvod: PropTypes.func.isRequired,\r\n\t\tproizvod: PropTypes.object.isRequired,\r\n\t\tkorpa: PropTypes.object.isRequired,\r\n\t\tgetKorpaProizvods: PropTypes.func.isRequired,\r\n\t\tdeleteKorpaProizvod: PropTypes.func.isRequired,\r\n\t\tdeleteAll: PropTypes.func.isRequired,\r\n\t\taddKorpaProizvod: PropTypes.func.isRequired,\r\n\t\tizracunajUkupnuCijenu: PropTypes.func.isRequired,\r\n\t\tsearchProizvods: PropTypes.func.isRequired,\r\n\t\tauth: PropTypes.object.isRequired\r\n\t};\r\n\r\n\t//Samo pozivi da se odvoji sve posebno\r\n\r\n\tgetProizvodsDo = () => {\r\n\t\tthis.props.getProizvods();\r\n\t};\r\n\r\n\tgetKorpaProizvodsDo = () => {\r\n\t\tthis.props.getKorpaProizvods();\r\n\t};\r\n\r\n\tdeleteAllDo = () => {\r\n\t\tthis.props.deleteAll();\r\n\t};\r\n\r\n\tsearchReset = () => {\r\n\t\tthis.props.searchProizvods('');\r\n\t};\r\n\r\n\tdeleteProizvodDo = (id) => {\r\n\t\tthis.props.deleteProizvod(id);\r\n\t};\r\n\r\n\tdeleteKorpaProizvodDo = (id) => {\r\n\t\tthis.props.deleteKorpaProizvod(id);\r\n\t};\r\n\r\n\tizracunajUkupnuCijenuDo = () => {\r\n\t\tthis.props.izracunajUkupnuCijenu();\r\n\t};\r\n\r\n\taddKorpaProizvodDo = (korpaProizvod) => {\r\n\t\tthis.props.addKorpaProizvod(korpaProizvod);\r\n\t};\r\n\r\n\t//sve ostale metode koje pozivaju ove gore\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getProizvodsDo();\r\n\t\tconst { isAuthenticated, token } = this.props.auth;\r\n\t\tif (isAuthenticated || token !== null) {\r\n\t\t\tthis.getKorpaProizvodsDo();\r\n\t\t\tthis.izracunajUkupnuCijenuDo();\r\n\t\t}\r\n\t}\r\n\r\n\tonProizvodDeleteClick = (id, ime) => {\r\n\t\tthis.deleteProizvodDo(id);\r\n\t\tconst { korpaProizvods } = this.props.korpa;\r\n\t\tkorpaProizvods.forEach((element) => {\r\n\t\t\tif (element.ime === ime) {\r\n\t\t\t\tthis.deleteKorpaProizvodDo(element._id);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.izracunajUkupnuCijenuDo();\r\n\t\tif (this.state.search.length > 0) this.searchReset();\r\n\t\twindow.location.reload();\r\n\t};\r\n\r\n\tonKorpaProizvodDeleteClick = (id) => {\r\n\t\tthis.deleteKorpaProizvodDo(id);\r\n\t\tthis.izracunajUkupnuCijenuDo();\r\n\t\twindow.location.reload();\r\n\t};\r\n\r\n\tonKorpaAddClick = (ime, cijena, kolicina, _id) => {\r\n\t\tconst korpaProizvod = {\r\n\t\t\time: ime,\r\n\t\t\tcijena: cijena,\r\n\t\t\tkolicina: kolicina,\r\n\t\t\t_id: _id\r\n\t\t};\r\n\r\n\t\tif (kolicina > 1) {\r\n\t\t\tthis.addKorpaProizvodDo(korpaProizvod);\r\n\t\t\tthis.getKorpaProizvodsDo();\r\n\t\t\tthis.getProizvodsDo();\r\n\t\t\tthis.izracunajUkupnuCijenuDo();\r\n\t\t\twindow.location.reload();\r\n\t\t} else {\r\n\t\t\talert(`Nije moguce dodati proizvod ${ime}, mora biti minimalno jedan na stanju!`);\r\n\t\t}\r\n\t};\r\n\r\n\tonDeleteAllClick = () => {\r\n\t\tthis.deleteAllDo();\r\n\t\tthis.izracunajUkupnuCijenuDo();\r\n\t\twindow.location.reload();\r\n\t};\r\n\r\n\tonChange = (e) => {\r\n\t\tthis.setState({ search: e.target.value }, this.handleSubmit);\r\n\t};\r\n\r\n\thandleSubmit = () => {\r\n\t\tconst searchText = {\r\n\t\t\time: this.state.search\r\n\t\t};\r\n\t\tthis.props.searchProizvods(searchText);\r\n\t};\r\n\r\n\t//Posto je setState asinhrovani call, moras posebno napraviti callback sto je ovdje handleSubmit i to izvan ove onChange metode, da ti ne bi kasnio setState za jedno slovo.\r\n\t//Takodjer moras proslijediti metodu bez () a ako ti trebaju parametri pises ovako this.setState({ search: e.target.value },(nesto) => this.handleSubmit(nesto));\r\n\t//Ili ovako this.setState({ search: e.target.value },this.handleSubmit.bind(this,nesto));\r\n\r\n\trender() {\r\n\t\tconst { proizvods, searchProizvods } = this.props.proizvod;\r\n\t\tconst { ukupnaCijena, korpaProizvods } = this.props.korpa;\r\n\t\tconst { isAuthenticated, token } = this.props.auth;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"listaProizvoda\">\r\n\t\t\t\t\t<h2>Lista dostupnih proizvoda:</h2>\r\n\t\t\t\t\t<Label style={{ marginTop: '2rem' }} className=\"label\" for=\"search\">\r\n\t\t\t\t\t\tSearch for proizvod:\r\n\t\t\t\t\t</Label>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tstyle={{ marginBottom: '2rem' }}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\tid=\"search\"\r\n\t\t\t\t\t\tplaceholder=\"Search text?\"\r\n\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListGroup style={{ marginBottom: '2rem' }}>\r\n\t\t\t\t\t\t<TransitionGroup className=\"web-shop\">\r\n\t\t\t\t\t\t\t{//Prvi slucaj je kad search nije obavljen, duzina je manja od 1, treba se prikazati svi elementi\r\n\t\t\t\t\t\t\tsearchProizvods.length < 1 && this.state.search === '' ? (\r\n\t\t\t\t\t\t\t\tproizvods.map(({ _id, ime, cijena, kolicina }) => (\r\n\t\t\t\t\t\t\t\t\t<CSSTransition key={_id} timeout={500} classNames=\"fade\">\r\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"GlavniPodaciProizvod\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ime} - {cijena} KM\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>, Na stanju: <strong>{kolicina}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t{isAuthenticated || token !== null ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"butoni\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '0.5rem' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.onProizvodDeleteClick.bind(this, _id, ime)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<UpdateProizvodModal\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateId={_id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIme={ime}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateCijena={cijena}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '0.5rem' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.onKorpaAddClick.bind(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\time,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcijena,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkolicina,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tKorpa\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\r\n\t\t\t\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tsearchProizvods.map(({ _id, ime, cijena, kolicina }) => (\r\n\t\t\t\t\t\t\t\t\t<CSSTransition key={_id} timeout={500} classNames=\"fade\">\r\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"GlavniPodaciProizvod\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ime} - {cijena} KM\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>, Na stanju: <strong>{kolicina}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t{isAuthenticated || token !== null ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"butoni\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '0.5rem' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.onProizvodDeleteClick.bind(this, _id, ime)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<UpdateProizvodModal\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateId={_id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIme={ime}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateCijena={cijena}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateKolicina={kolicina}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '0.5rem' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.onKorpaAddClick.bind(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\time,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcijena,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkolicina,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tKorpa\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</ListGroupItem>\r\n\t\t\t\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</TransitionGroup>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t{isAuthenticated || token !== null ? (\r\n\t\t\t\t\t\t<ProizvodModal />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h4 className=\"addProzvodModaltext\">Please log in to manage proizvods</h4>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"korpa\">\r\n\t\t\t\t\t{isAuthenticated || token !== null ? (\r\n\t\t\t\t\t\t<h2>Proizvodi u korpi:</h2>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h4 className=\"addtokorpatext\">Log in to add proizvods to korpa</h4>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<ListGroup style={{ marginTop: '5rem' }}>\r\n\t\t\t\t\t\t<TransitionGroup className=\"web-shop\">\r\n\t\t\t\t\t\t\t{korpaProizvods.map(({ _id, ime, cijena }) => (\r\n\t\t\t\t\t\t\t\t<CSSTransition key={_id} timeout={500} classNames=\"fade\">\r\n\t\t\t\t\t\t\t\t\t<ListGroupItem>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"korpaButoni\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ime} - {cijena} KM\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '1rem' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.onKorpaProizvodDeleteClick.bind(this, _id)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</ListGroupItem>\r\n\t\t\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</TransitionGroup>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t<div className=\"cijenaDisplay\">\r\n\t\t\t\t\t\t{korpaProizvods.length > 0 ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\t\t\tclassName=\"deleteAllButton\"\r\n\t\t\t\t\t\t\t\tonClick={this.onDeleteAllClick.bind(this)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tOcisti korpu\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{ukupnaCijena > 0 ? <Alert color=\"info\">Ukupna cijena: {ukupnaCijena} KM</Alert> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tproizvod: state.proizvod,\r\n\tkorpa: state.korpa,\r\n\tauth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tgetProizvods,\r\n\tdeleteProizvod,\r\n\tgetKorpaProizvods,\r\n\taddKorpaProizvod,\r\n\tdeleteAll,\r\n\tdeleteKorpaProizvod,\r\n\tizracunajUkupnuCijenu,\r\n\tsearchProizvods\r\n})(WebShop);\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Footer extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"footer\">\r\n\t\t\t\t<h4 className=\"ftext\">\r\n\t\t\t\t\tMade by Emir Karaman <strong className=\"sftext\">@Copyright</strong> 2019\r\n\t\t\t\t</h4>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport AppNavbar from './components/AppNavbar';\nimport { Container } from 'reactstrap';\n\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport WebShop from './components/WebShop';\nimport Footer from './components/Footer';\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Provider store={store}>\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<AppNavbar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<WebShop />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Container>\n\t\t\t\t\t<Footer />\n\t\t\t\t</div>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}